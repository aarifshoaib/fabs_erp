<!-- Edit Recruitment Entry Offcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvas_edit_recruitment" style="width: 1000px !important;">
    <div class="offcanvas-header border-bottom">
        <h5 class="offcanvas-title" id="offcanvas_edit_recruitment_label">Edit Recruitment Entry</h5>
        <button type="button" class="btn-close custom-btn-close border p-1 me-0 d-flex align-items-center justify-content-center rounded-circle" data-bs-dismiss="offcanvas" aria-label="Close">
            <i class="ti ti-x"></i>
        </button>
    </div>
    <div class="offcanvas-body">
        <form id="editRecruitmentForm" action="{% url 'recruitment_update' %}" method="POST">
            {% csrf_token %}
            <input type="hidden" name="recr_id" id="edit_recr_id">
            <div class="row">
                <!-- AO Fields (readonly) -->
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">AO Ref No</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_ao_ref_no"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Name as per PP</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_name_as_per_pp"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Department</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_dep"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Project</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_project"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Designation</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_designation"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Nationality</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_nationality"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Employee Status</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_employee_status"></div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="col-form-label fw-bold">Agenct Name</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_agency_name"></div>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label fw-bold">Gender</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_gender"></div>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label fw-bold">Doc Status</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_doc_status"></div>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Interview Date</label>
                    <div class="form-control-plaintext border rounded p-2 bg-light" id="edit_interview_date"></div>
                </div>
                <!-- Add more AO fields as needed, all readonly -->
                <!-- Recruitment Editable Fields -->
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Availability</label>
                    <input type="text" name="availability" id="edit_availability" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Agent Charges</label>
                    <select name="agent_charges" id="edit_agent_charges" class="form-control" readonly>
                        <option value="">Select Agent Charges</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Charges Paid Date</label>
                    <input type="date" name="charges_paid_date" id="edit_charges_paid_date" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Travel Requirement</label>
                    <select name="ecnr" class="form-control" id="edit_ecnr" readonly>
                        <option value="">Select</option>
                        {% for ecnr in ecnr_data %}
                        <option value="{{ ecnr.base_value }}">{{ ecnr.base_description }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Pre-approval</label>
                    <select name="pre_approval" id="edit_pre_approval" class="form-control" readonly>
                        <option value="">Select Pre-approval</option>
                        <option value="Verification Under Process">Verification Under Process</option>
                        <option value="Verified">Verified</option>  
                        <option value="Nawaqas">Nawaqas</option>        
                        <option value="Nawaqas - Reapplied">Nawaqas - Reapplied</option>    
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Work Offer Letter</label>
                    <select name="work_offer_letter" id="edit_work_offer_letter" class="form-control" readonly>
                        <option value="">Select Work Offer Letter</option>
                        <option value="Mol Applied">Mol Applied</option>
                        <option value="Mol Approved">Mol Approved</option>
                        <option value="MOL reapplied">MOL reapplied</option>
                        <option value="Back out - Need to cancel">Back out - Need to cancel</option>
                        <option value="Back out - Cancellation under process">Back out - Cancellation under process</option>
                        <option value="Cancelled & Exit">Cancelled & Exit</option>
                        <option value="Not Done">Not Done</option>
                        <option value="Active File">Active File</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Insurance</label>
                    <select name="insurance" id="edit_insurance" class="form-control" readonly>
                        <option value="">Select Insurance</option>
                        <option value="Not Done">Not Done</option>
                        <option value="Done">Done</option>
                        <option value="Cancelled & Exit">Cancelled & Exit</option>  
                        <option value="Active File">Active File</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">WP Payment</label>
                    <select name="wp_payment" id="edit_wp_payment" class="form-control" readonly>
                        <option value="">Select WP Payment</option>
                        <option value="Not Done">Not Done</option>
                        <option value="Done">Done</option>
                        <option value="Cancelled & Exit">Cancelled & Exit</option>  
                        <option value="Active File">Active File</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Visa Submission</label>
                    <select name="visa_submission" id="edit_visa_submission" class="form-control" readonly>
                        <option value="">Select Visa Submission</option>
                        <option value="Not Done">Not Done</option>
                        <option value="Done">Done</option>
                        <option value="Cancelled & Exit">Cancelled & Exit</option>  
                        <option value="Active File">Active File</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Change Status</label>
                    <select name="change_status" id="edit_change_status" class="form-control" readonly>
                        <option value="">Select Change Status</option>
                        <option value="Not Done">Not Done</option>
                        <option value="Done">Done</option>
                        <option value="Cancelled & Exit">Cancelled & Exit</option>  
                        <option value="Active File">Active File</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Visa Issued Date</label>
                    <input type="date" name="visa_issued_date" id="edit_visa_issued_date" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Visa Expiry Date</label>
                    <input type="date" name="visa_expiry_date" id="edit_visa_expiry_date" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Arrival Date</label>
                    <input type="date" name="arrival_date" id="edit_arrival_date" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Airport</label>
                    <input type="text" name="airport" id="edit_airport" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Flight No</label>
                    <input type="text" name="flight_no" id="edit_flight_no" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">ETA</label>
                    <input type="datetime-local" name="eta" id="edit_eta" class="form-control">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="col-form-label">Arrived/Not</label>
                    <input type="text" name="arrived_or_not" id="edit_arrived_or_not" class="form-control">
                </div>
            </div>
            <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-light me-2" data-bs-dismiss="offcanvas">Cancel</button>
                <button type="button" class="btn btn-primary me-2" id="convert_to_employee">Convert to Employee</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>
    </div>
</div>
{% load static %}

<!-- Add Gratuity Settlement Modal -->
<div class="offcanvas offcanvas-end offcanvas-large" tabindex="-1" id="addGratuityModal">
    <div class="offcanvas-header border-bottom">
        <h4>Add Gratuity Settlement</h4>
        <button type="button" class="btn-close custom-btn-close border p-1 me-0 d-flex align-items-center justify-content-center rounded-circle" data-bs-dismiss="offcanvas" aria-label="Close">
            <i class="ti ti-x"></i>
        </button>
    </div>
    <div class="offcanvas-body">
        <form action="{% url 'add_gratuity' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row">
                <!-- Employee Code -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Employee Code <span class="text-danger">*</span></label>
                        <input class="form-control" name="employee_code" type="text" required>
                    </div>
                </div>
                <!-- Employee Name -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Employee Name <span class="text-danger">*</span></label>
                        <input class="form-control" name="employee_name" type="text" required>
                    </div>
                </div>
                <!-- Category -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Category</label>
                        <input class="form-control" name="category" type="text">
                    </div>
                </div>
                <!-- Designation -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Designation</label>
                        <input class="form-control" name="designation" type="text">
                    </div>
                </div>
                <!-- Date of Joining -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Date of Joining <span class="text-danger">*</span></label>
                        <input class="form-control" name="date_of_joining" type="date" required>
                    </div>
                </div>
                <!-- Date of Exit -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Date of Exit <span class="text-danger">*</span></label>
                        <input class="form-control" name="date_of_exit" type="date" required>
                    </div>
                </div>
                <!-- Last Drawn Basic Salary -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Last Drawn Basic Salary <span class="text-danger">*</span></label>
                        <input class="form-control" name="last_drawn_basic_salary" type="number" step="0.01" required>
                    </div>
                </div>
                <!-- Eligible Gratuity -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Eligible Gratuity</label>
                        <input class="form-control" name="eligible_gratuity" type="number" step="0.01">
                    </div>
                </div>
                <!-- Gratuity Status -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Gratuity Status</label>
                        <select class="form-control" name="gratuity_status">
                            <option value="Pending">Pending</option>
                            <option value="Approved">Approved</option>
                            <option value="Paid">Paid</option>
                        </select>
                    </div>
                </div>
                <!-- Settlement Status -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Settlement Status</label>
                        <select class="form-control" name="settlement_status">
                            <option value="Pending">Pending</option>
                            <option value="Approved">Approved</option>
                            <option value="Paid">Paid</option>
                        </select>
                    </div>
                </div>
                <!-- Payment Mode -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Payment Mode</label>
                        <select class="form-control" name="payment_mode">
                            <option value="Bank Transfer">Bank Transfer</option>
                            <option value="Cheque">Cheque</option>
                            <option value="Cash">Cash</option>
                        </select>
                    </div>
                </div>
                <!-- Bank Name -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Bank Name</label>
                        <input class="form-control" name="bank_name" type="text">
                    </div>
                </div>
                <!-- Bank Account No. -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Bank Account No.</label>
                        <input class="form-control" name="bank_account_no" type="text">
                    </div>
                </div>
                <!-- Supporting Docs -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Supporting Documents</label>
                        <input class="form-control" name="supporting_docs" type="file" multiple>
                    </div>
                </div>
                <!-- Attachments -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Attachments</label>
                        <input class="form-control" name="attachments" type="file" multiple>
                    </div>
                </div>
                <!-- Remarks -->
                <div class="col-md-12">
                    <div class="mb-3">
                        <label class="col-form-label">Remarks</label>
                        <textarea class="form-control" name="remarks" rows="2"></textarea>
                    </div>
                </div>
            </div>
            <!-- Buttons -->
            <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-light me-2" data-bs-dismiss="offcanvas">Cancel</button>
                <button type="submit" class="btn btn-primary">Save</button>
            </div>
        </form>
    </div>
</div>
<!-- /Add Gratuity Settlement Modal -->

<!-- Edit Gratuity Settlement Modal -->
<div class="offcanvas offcanvas-end offcanvas-large" tabindex="-1" id="editGratuityModal">
    <div class="offcanvas-header border-bottom">
        <h4>Edit Gratuity Settlement</h4>
        <button type="button" class="btn-close custom-btn-close border p-1 me-0 d-flex align-items-center justify-content-center rounded-circle" data-bs-dismiss="offcanvas" aria-label="Close">
            <i class="ti ti-x"></i>
        </button>
    </div>
    <div class="offcanvas-body">
        <form id="edit_gratuity_form" action="#" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="edit_id" id="edit_id">
            <div class="row">
                <!-- Employee Code (read-only) -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Employee Code</label>
                        <input class="form-control" name="employee_code" id="edit_employee_code" type="text" readonly>
                    </div>
                </div>
                <!-- Employee Name -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Employee Name</label>
                        <input class="form-control" name="employee_name" id="edit_employee_name" type="text">
                    </div>
                </div>
                <!-- Category -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Category</label>
                        <input class="form-control" name="category" id="edit_category" type="text">
                    </div>
                </div>
                <!-- Designation -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Designation</label>
                        <input class="form-control" name="designation" id="edit_designation" type="text">
                    </div>
                </div>
                <!-- Date of Joining -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Date of Joining</label>
                        <input class="form-control" name="date_of_joining" id="edit_date_of_joining" type="date">
                    </div>
                </div>
                <!-- Date of Exit -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Date of Exit</label>
                        <input class="form-control" name="date_of_exit" id="edit_date_of_exit" type="date">
                    </div>
                </div>
                <!-- Last Drawn Basic Salary -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Last Drawn Basic Salary</label>
                        <input class="form-control" name="last_drawn_basic_salary" id="edit_last_drawn_basic_salary" type="number" step="0.01">
                    </div>
                </div>
                <!-- Eligible Gratuity -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Eligible Gratuity</label>
                        <input class="form-control" name="eligible_gratuity" id="edit_eligible_gratuity" type="number" step="0.01">
                    </div>
                </div>
                <!-- Gratuity Status -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Gratuity Status</label>
                        <select class="form-control" name="gratuity_status" id="edit_gratuity_status">
                            <option value="Pending">Pending</option>
                            <option value="Approved">Approved</option>
                            <option value="Paid">Paid</option>
                        </select>
                    </div>
                </div>
                <!-- Settlement Status -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Settlement Status</label>
                        <select class="form-control" name="settlement_status" id="edit_settlement_status">
                            <option value="Pending">Pending</option>
                            <option value="Approved">Approved</option>
                            <option value="Paid">Paid</option>
                        </select>
                    </div>
                </div>
                <!-- Payment Mode -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Payment Mode</label>
                        <select class="form-control" name="payment_mode" id="edit_payment_mode">
                            <option value="Bank Transfer">Bank Transfer</option>
                            <option value="Cheque">Cheque</option>
                            <option value="Cash">Cash</option>
                        </select>
                    </div>
                </div>
                <!-- Bank Name -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Bank Name</label>
                        <input class="form-control" name="bank_name" id="edit_bank_name" type="text">
                    </div>
                </div>
                <!-- Bank Account No. -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Bank Account No.</label>
                        <input class="form-control" name="bank_account_no" id="edit_bank_account_no" type="text">
                    </div>
                </div>
                <!-- Supporting Docs -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Supporting Documents</label>
                        <input class="form-control" name="supporting_docs" id="edit_supporting_docs" type="file" multiple>
                    </div>
                </div>
                <!-- Attachments -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="col-form-label">Attachments</label>
                        <input class="form-control" name="attachments" id="edit_attachments" type="file" multiple>
                    </div>
                </div>
                <!-- Remarks -->
                <div class="col-md-12">
                    <div class="mb-3">
                        <label class="col-form-label">Remarks</label>
                        <textarea class="form-control" name="remarks" id="edit_remarks" rows="2"></textarea>
                    </div>
                </div>
            </div>
            <!-- Buttons -->
            <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-light me-2" data-bs-dismiss="offcanvas">Cancel</button>
                <button type="submit" class="btn btn-primary">Update</button>
            </div>
        </form>
    </div>
</div>
<!-- /Edit Gratuity Settlement Modal -->